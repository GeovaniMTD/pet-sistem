create table caixa (
ID_CAIXA INTEGER PRIMARY KEY,
ID_USUARIO INTEGER, 
DATA_CAIXA DATE, 
SITUACAO CHAR (1)
);

CREATE TABLE CAIXA_ITEM (
ID_CAIXA INTEGER CONSTRAINT FK_CAIXA REFERENCES CAIXA,
ID_CAIXAITEM INTEGER,
VALOR_LANCAMENTO NUMERIC(15,2),
DEBITO_CREDITO CHAR (1),
DESCRICAO VARCHAR(80),
CONSTRAINT PK_CAIXAITEM PRIMARY KEY (ID_CAIXA, ID_CAIXAITEM)
);

ALTER TABLE CAIXA_ITEM
    ADD ID_LOCACAO INTEGER
    CONSTRAINT FK_CAIXA_LOCACAO REFERENCES LOCACAO;

    ALTER TABLE CAIXA_ITEM ADD DATA_LANCTO DATE

    SELECT * FROM CAIXA_ITEM 
WHERE ID_CAIXA = :P1 AND DATA_LANCTO = :P2

SELECT CAIXA.*,
CASE SITUACAO
WHEN 'A' THEN 'ABERTO'
WHEN 'F' THEN 'FECHADO'
END AS DESC_SITUACAO
FROM CAIXA
WHERE ID_CAIXA = :P1